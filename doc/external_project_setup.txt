When you intend to use Simox with an external project, you can use the following CMakeLists.txt code:

<---- snippet ----->

PROJECT ( DemoProject )

CMAKE_MINIMUM_REQUIRED(VERSION 2.6.0)
CMAKE_POLICY(VERSION 2.6)

############################# SETUP PATHS TO Simox #############################
GET_FILENAME_COMPONENT (CurrentPath ${CMAKE_CURRENT_LIST_FILE} PATH)

# Either you set your environment variable or you edit the path here manually
SET(SIMOX_DIR_STANDARD "$ENV{Simox_DIR}")

# be sure to have the absolute path
get_filename_component(SIMOX_DIR_STANDARD ${SIMOX_DIR_STANDARD} ABSOLUTE)

SET (SIMOX_DIR ${SIMOX_DIR_STANDARD} CACHE STRING "Path to Simox used by ${PROJECT_NAME}")

# where is the build directory located
SET (SIMOX_BUILD_DIRECTORY ${SIMOX_DIR}/build CACHE STRING "Path to Simox build directory")

# include simox settings (handles lib search)
INCLUDE(${SIMOX_DIR}/config.cmake)
INCLUDE(${SIMOX_DIR}/CMakeModules/SimoxProject.cmake)

# Makes the demo directory available in your code 
SET(DEMO_BASE_DIR ${PROJECT_SOURCE_DIR})
ADD_DEFINITIONS(-DDEMO_BASE_DIR="${DEMO_BASE_DIR}")

IF(SIMOX_USE_COIN_VISUALIZATION)

    # Adjust these lines according to your filenames 
	FILE(GLOB demo_SRCS ${PROJECT_SOURCE_DIR}/demoFile1.cpp ${PROJECT_SOURCE_DIR}/demoFile1.cpp)
	FILE(GLOB demo_INCS ${PROJECT_SOURCE_DIR}/demoFile1.h)
	
	# if you have a Qt-based project, you have to moc the QMainWindow class file
    set(GUI_MOC_HDRS
        ${PROJECT_SOURCE_DIR}/demoFile1.h
    )
    
    # When you are using QtDesigner to build the UI, you can specify all .ui files here
    set(GUI_UIS
        ${PROJECT_SOURCE_DIR}/demoGuiFile.ui
    )
    
    # pass file lists to simox cmake script: create the executable
    simox_add_executable(${PROJECT_NAME} "${demo_SRCS}" "${demo_INCS}" "${GUI_MOC_HDRS}" "${GUI_UIS}")
    
ENDIF(SIMOX_USE_COIN_VISUALIZATION)

<---- snippet ----->
